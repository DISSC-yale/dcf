(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{3089:(e,s,i)=>{"use strict";i.r(s),i.d(s,{default:()=>Q});var r=i(5155),n=i(9839),l=i(8309),a=i(2548),t=i(2115),h=i(4688),c=i(4581),d=i(1218),o=i(5221),x=i(2819),j=i(8534),A=i(9267),g=i(5715),u=i(700),m=i(1960),p=i(3127),b=i(6632),f=i(1338),y=i(7756),v=i(117),_=i(6253),w=i(2376),C=i(4220),S=i(6278),k=i(4492),F=i(9927),M=i(7976),E=i(6033),D=i(404),z=i(4263),T=i(9776),W=i(9242),P=i(1629),V=i(3148),R=i(5528),B=i(978),H=i(5206),O=i(6874),I=i.n(O);function L(e){let{filename:s,meta:i}=e,n=s.replace("./","");return(0,r.jsx)(I(),{href:"https://github.com/".concat(i.repo_name,"/blob/").concat(i.settings.branch,"/").concat(n),rel:"noreferrer",target:"_blank",children:n})}let N=/(?:standard|dist).*/;function U(e){let{meta:s}=e,[i,n]=(0,t.useState)(!1),l=()=>n(!i),{resource:a,issues:h}=s,{versions:d}=a,o=h&&h.data?Array.isArray(h.data)?h.data:[h.data]:[],j=h&&h.measures?Array.isArray(h.measures)?h.measures:[h.measures]:[],A="number"!=typeof s.source_time,g=A||o.length||j.length,m=a.name.replace("./",""),b=m.replace(N,"ingest.R");return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(w.A,{onClick:l,children:[(0,r.jsx)(P.A,{sx:{minWidth:40},children:A?(0,r.jsx)(W.A,{color:"error"}):g?(0,r.jsx)(B.A,{color:"warning"}):(0,r.jsx)(H.A,{color:"success"})}),(0,r.jsx)(C.A,{primary:m})]}),(0,r.jsxs)(S.A,{open:i,onClose:l,children:[(0,r.jsx)(k.A,{children:m}),(0,r.jsx)(p.A,{"aria-label":"close info",onClick:l,sx:{position:"absolute",right:8,top:12},children:(0,r.jsx)(W.A,{})}),(0,r.jsx)(F.A,{sx:{pt:0},children:(0,r.jsxs)(x.A,{spacing:2,children:[(0,r.jsxs)(c.A,{children:[(0,r.jsx)(u.A,{variant:"h6",children:"Metadata"}),(0,r.jsxs)(M.A,{size:"small","aria-label":"measure info entries",children:[(0,r.jsx)(E.A,{children:(0,r.jsxs)(D.A,{sx:{"& .MuiTableCell-head":{fontWeight:"bold"}},children:[(0,r.jsx)(z.A,{children:"Feature"}),(0,r.jsx)(z.A,{align:"right",children:"Value"})]})}),(0,r.jsxs)(T.A,{children:[(0,r.jsxs)(D.A,{children:[(0,r.jsx)(z.A,{role:"heading",children:"Source Script"}),(0,r.jsx)(z.A,{align:"right",children:(0,r.jsx)(L,{filename:b,meta:s})})]}),(0,r.jsxs)(D.A,{children:[(0,r.jsx)(z.A,{role:"heading",children:"File"}),(0,r.jsx)(z.A,{align:"right",children:(0,r.jsx)(L,{filename:a.name,meta:s})})]}),(0,r.jsxs)(D.A,{children:[(0,r.jsx)(z.A,{role:"heading",children:"Created"}),(0,r.jsx)(z.A,{align:"right",children:a.created})]}),(0,r.jsxs)(D.A,{children:[(0,r.jsx)(z.A,{role:"heading",children:"Seconds to Build"}),(0,r.jsx)(z.A,{align:"right",children:s.source_time})]}),(0,r.jsxs)(D.A,{children:[(0,r.jsx)(z.A,{role:"heading",children:"Bytes"}),(0,r.jsx)(z.A,{align:"right",children:a.bytes})]}),(0,r.jsxs)(D.A,{children:[(0,r.jsx)(z.A,{role:"heading",children:"Encoding"}),(0,r.jsx)(z.A,{align:"right",children:a.encoding})]}),(0,r.jsxs)(D.A,{children:[(0,r.jsx)(z.A,{role:"heading",children:"MD5"}),(0,r.jsx)(z.A,{align:"right",children:a.md5})]}),(0,r.jsxs)(D.A,{children:[(0,r.jsx)(z.A,{role:"heading",children:"Rows"}),(0,r.jsx)(z.A,{align:"right",children:a.row_count})]})]})]})]}),(0,r.jsxs)(c.A,{children:[(0,r.jsx)(u.A,{variant:"h6",children:"Variables"}),(0,r.jsx)(c.A,{sx:{maxHeight:300,overflowY:"auto"},children:s.variables})]}),o.length?(0,r.jsxs)(c.A,{children:[(0,r.jsx)(u.A,{variant:"h6",children:"Data Issues"}),(0,r.jsx)(V.A,{disablePadding:!0,children:o.map((e,s)=>(0,r.jsx)(R.Ay,{children:e},s))})]}):(0,r.jsx)(r.Fragment,{}),j.length?(0,r.jsxs)(c.A,{children:[(0,r.jsx)(u.A,{variant:"h6",children:"Measure Issues"}),(0,r.jsx)(V.A,{disablePadding:!0,children:j.map((e,s)=>(0,r.jsx)(R.Ay,{children:e},s))})]}):(0,r.jsx)(r.Fragment,{}),A&&(0,r.jsxs)(c.A,{children:[(0,r.jsx)(u.A,{variant:"h6",color:"error",children:"Source Failure"}),(0,r.jsx)(u.A,{children:s.logs})]}),d&&d.hash&&(0,r.jsxs)(c.A,{children:[(0,r.jsx)(u.A,{variant:"h6",children:"Previous Versions"}),(0,r.jsx)(c.A,{sx:{maxHeight:300,overflowY:"auto"},children:(0,r.jsxs)(M.A,{size:"small","aria-label":"measure info entries",children:[(0,r.jsx)(E.A,{children:(0,r.jsxs)(D.A,{sx:{"& .MuiTableCell-head":{fontWeight:"bold"}},children:[(0,r.jsx)(z.A,{children:"Date"}),(0,r.jsx)(z.A,{align:"right",children:"Message"}),(0,r.jsx)(z.A,{align:"right",children:"Commit"})]})}),(0,r.jsx)(T.A,{children:d.hash.map((e,i)=>(0,r.jsxs)(D.A,{children:[(0,r.jsx)(z.A,{align:"right",children:d.date[i]}),(0,r.jsx)(z.A,{align:"right",children:d.message[i]}),(0,r.jsx)(z.A,{align:"right",title:e,children:(0,r.jsx)(I(),{href:"https://raw.githubusercontent.com/".concat(s.repo_name,"/").concat(e,"/").concat(m),rel:"noreferrer",target:"_blank",children:e.substring(0,6)})})]},i))})]})})]})]})})]})]})}function Y(e){let{meta:s,file:i}=e,[n,l]=(0,t.useState)(!1),a=()=>l(!n),{info:h,resource:d}=s;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(w.A,{onClick:a,children:(0,r.jsx)(C.A,{primary:h.short_name,secondary:h.short_description})}),(0,r.jsxs)(S.A,{open:n,onClose:a,children:[(0,r.jsx)(k.A,{children:h.measure}),(0,r.jsx)(p.A,{"aria-label":"close info",onClick:a,sx:{position:"absolute",right:8,top:12},children:(0,r.jsx)(W.A,{})}),(0,r.jsx)(F.A,{sx:{pt:0},children:(0,r.jsxs)(x.A,{spacing:2,children:[(0,r.jsx)(u.A,{variant:"h5",children:h.long_name}),(0,r.jsx)(u.A,{variant:"body2",children:h.long_description?(0,r.jsx)("span",{dangerouslySetInnerHTML:{__html:h.long_description}}):(0,r.jsx)(r.Fragment,{})}),(0,r.jsxs)(c.A,{children:[(0,r.jsx)(u.A,{variant:"h6",children:"Metadata"}),(0,r.jsxs)(M.A,{size:"small","aria-label":"measure info entries",children:[(0,r.jsx)(E.A,{children:(0,r.jsxs)(D.A,{sx:{"& .MuiTableCell-head":{fontWeight:"bold"}},children:[(0,r.jsx)(z.A,{children:"Entry"}),(0,r.jsx)(z.A,{align:"right",children:"Value"})]})}),(0,r.jsxs)(T.A,{children:[(0,r.jsxs)(D.A,{children:[(0,r.jsx)(z.A,{children:"Category"}),(0,r.jsx)(z.A,{align:"right",children:h.category})]}),(0,r.jsxs)(D.A,{children:[(0,r.jsx)(z.A,{children:"Type"}),(0,r.jsx)(z.A,{align:"right",children:h.measure_type})]}),(0,r.jsxs)(D.A,{children:[(0,r.jsx)(z.A,{children:"Unit"}),(0,r.jsx)(z.A,{align:"right",children:h.unit})]})]})]})]}),(0,r.jsxs)(c.A,{children:[(0,r.jsx)(u.A,{variant:"h6",children:"File"}),(0,r.jsxs)(M.A,{size:"small","aria-label":"measure info entries",children:[(0,r.jsx)(E.A,{children:(0,r.jsxs)(D.A,{sx:{"& .MuiTableCell-head":{fontWeight:"bold"}},children:[(0,r.jsx)(z.A,{children:"Feature"}),(0,r.jsx)(z.A,{align:"right",children:"Value"})]})}),(0,r.jsxs)(T.A,{children:[(0,r.jsxs)(D.A,{children:[(0,r.jsx)(z.A,{children:"File"}),(0,r.jsx)(z.A,{align:"right",children:(0,r.jsx)(U,{meta:i})})]}),(0,r.jsxs)(D.A,{children:[(0,r.jsx)(z.A,{children:"Created"}),(0,r.jsx)(z.A,{align:"right",children:d.created})]}),(0,r.jsxs)(D.A,{children:[(0,r.jsx)(z.A,{children:"Seconds to Build"}),(0,r.jsx)(z.A,{align:"right",children:s.source_time})]}),(0,r.jsxs)(D.A,{children:[(0,r.jsx)(z.A,{children:"Bytes"}),(0,r.jsx)(z.A,{align:"right",children:d.bytes})]}),(0,r.jsxs)(D.A,{children:[(0,r.jsx)(z.A,{children:"Encoding"}),(0,r.jsx)(z.A,{align:"right",children:d.encoding})]}),(0,r.jsxs)(D.A,{children:[(0,r.jsx)(z.A,{children:"MD5"}),(0,r.jsx)(z.A,{align:"right",children:d.md5})]}),(0,r.jsxs)(D.A,{children:[(0,r.jsx)(z.A,{children:"Rows"}),(0,r.jsx)(z.A,{align:"right",children:d.row_count})]})]})]})]}),(0,r.jsxs)(c.A,{children:[(0,r.jsx)(u.A,{variant:"h6",children:"Summary"}),(0,r.jsxs)(M.A,{size:"small","aria-label":"measure summary",children:[(0,r.jsx)(E.A,{children:(0,r.jsxs)(D.A,{sx:{"& .MuiTableCell-head":{fontWeight:"bold"}},children:[(0,r.jsx)(z.A,{children:"Component"}),(0,r.jsx)(z.A,{align:"right",children:"Value"})]})}),(0,r.jsxs)(T.A,{children:[(0,r.jsxs)(D.A,{children:[(0,r.jsx)(z.A,{children:"Duplicates"}),(0,r.jsx)(z.A,{align:"right",children:s.duplicates})]}),(0,r.jsxs)(D.A,{children:[(0,r.jsx)(z.A,{children:"Missing"}),(0,r.jsx)(z.A,{align:"right",children:s.missing})]}),(0,r.jsxs)(D.A,{children:[(0,r.jsx)(z.A,{children:"Type"}),(0,r.jsx)(z.A,{align:"right",children:s.type})]}),"string"===s.type?(0,r.jsxs)(D.A,{children:[(0,r.jsx)(z.A,{children:"Levels"}),(0,r.jsx)(z.A,{align:"right",children:Object.keys(s.table).length})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(D.A,{children:[(0,r.jsx)(z.A,{children:"Min"}),(0,r.jsx)(z.A,{align:"right",children:s.min.toFixed(2)})]}),(0,r.jsxs)(D.A,{children:[(0,r.jsx)(z.A,{children:"Mean"}),(0,r.jsx)(z.A,{align:"right",children:s.mean.toFixed(2)})]}),(0,r.jsxs)(D.A,{children:[(0,r.jsx)(z.A,{children:"Standard Deviation"}),(0,r.jsx)(z.A,{align:"right",children:s.sd.toFixed(2)})]}),(0,r.jsxs)(D.A,{children:[(0,r.jsx)(z.A,{children:"Max"}),(0,r.jsx)(z.A,{align:"right",children:s.max.toFixed(2)})]})]})]})]})]}),h.sources&&(0,r.jsxs)(c.A,{children:[(0,r.jsx)(u.A,{variant:"h6",children:"Sources"}),h.sources.map(e=>(0,r.jsx)(G,{source:e},e.name))]})]})})]})]})}function G(e){let{source:s}=e;return(0,r.jsxs)(d.A,{children:[(0,r.jsx)(o.A,{title:s.name,subheader:(0,r.jsx)(m.A,{href:s.url,rel:"noreferrer",target:"_blank",children:s.url.replace("https://","")})}),s.location&&(0,r.jsxs)(b.A,{sx:{pt:0},children:[(0,r.jsx)(u.A,{variant:"body2",children:s.location}),s.location_url&&(0,r.jsx)(m.A,{variant:"body2",href:s.location_url,rel:"noreferrer",target:"_blank",children:s.location_url.replace("https://","")})]})]})}let J={time:!0,geography:!0},K=/^[^\/]+\/[^\/]+$/;function $(){let{mode:e,setMode:s}=(0,h.Ut)(),[i,n]=(0,t.useState)(""),[l,a]=(0,t.useState)(""),[w,C]=(0,t.useState)(!1),S=e=>{C(!1),a(e)};(0,t.useEffect)(()=>{let e=window.location.search.replace("?","").split("&").filter(e=>e.startsWith("repo="));e.length&&S(e[0].replace("repo=",""))});let[k,F]=(0,t.useState)("variables"),[M,E]=(0,t.useState)(""),[D,z]=(0,t.useState)(!1),[T,W]=(0,t.useState)({date:"2025",files:[],variables:[]});(0,t.useEffect)(()=>{l&&fetch("https://api.github.com/repos/".concat(l,"/contents/report.json.gz")).then(async e=>{if(200!==e.status){C(!0),a("");return}let s=await (l?new Blob([Uint8Array.from(atob((await e.json()).content).split("").map(e=>e.charCodeAt(0)))]):e.blob()),i=await new Response(await s.stream().pipeThrough(new DecompressionStream("gzip"))).json(),n=[],t=[],h={};Object.keys(i.metadata).forEach(e=>{let s=e.split("/")[0],a=i.metadata[e];a.resources.forEach(c=>{c.name="./".concat("settings"in i?i.settings.data_dir:"data","/").concat(e,"/").concat(c.filename);let d={resource:c,repo_name:l,settings:i.settings,source_time:i.source_times[s],logs:i.logs[s],issues:s in i.issues?i.issues[s][c.name]:{},variables:[]};c.schema.fields.forEach(e=>{h[e.name]=!0;let n=a.measure_info[e.name];if(n){let l={...e,info:n,info_string:n?JSON.stringify(n).toLowerCase():"",source_name:s,source_time:i.source_times[s],resource:c},a=(0,r.jsx)(Y,{meta:l,file:d},e.name);d.variables.push(a),e.name in J||e.name in h||t.push({meta:l,display:a})}}),n.push({meta:d,display:(0,r.jsx)(U,{meta:d},c.name)})})}),W({date:i.date,files:n,variables:t}),z(!0)})},[l]);let P="dark"===e;return(0,r.jsx)(c.A,{sx:{position:"absolute",top:0,left:0,bottom:0,right:0,overflow:"hidden"},children:(0,r.jsxs)(d.A,{sx:{height:"100%"},children:[(0,r.jsx)(o.A,{sx:{p:0},title:(0,r.jsxs)(x.A,{direction:"row",sx:{justifyContent:"space-between",alignItems:"center"},children:[(0,r.jsxs)(j.A,{href:"/dcf/",rel:"noreferrer",children:[(0,r.jsx)(y.A,{}),"Package Site"]}),D?(0,r.jsxs)(A.A,{value:k,onChange:(e,s)=>F(s),children:[(0,r.jsx)(g.A,{label:"Variables",value:"variables",id:"variables-tab","aria-controls":"variables-panel"}),(0,r.jsx)(g.A,{label:"Files",value:"files",id:"files-tab","aria-controls":"files-panel"})]}):(0,r.jsx)(u.A,{fontSize:"1.35em",children:"Data Collection Project"}),(0,r.jsxs)(x.A,{direction:"row",spacing:2,children:[D&&(0,r.jsx)(m.A,{href:"https://github.com/".concat(l.trim()),target:"_blank",rel:"noreferrer",sx:{fontSize:".7em",textDecoration:"none",alignSelf:"center"},children:l}),(0,r.jsx)(j.A,{variant:"outlined",color:"warning",onClick:()=>{z(!1),C(!1),a("")},disabled:!l,children:"Reset"}),(0,r.jsx)(p.A,{color:"inherit",onClick:()=>s(P?"light":"dark"),"aria-label":"toggle dark mode",children:P?(0,r.jsx)(v.A,{}):(0,r.jsx)(_.A,{})})]})]})}),D?(0,r.jsxs)(b.A,{sx:{position:"absolute",top:48,bottom:0,width:"100%",overflow:"hidden"},children:[(0,r.jsxs)(c.A,{role:"tabpanel",id:"variables-panel","aria-labelledby":"variables-tab",hidden:"variables"!==k,sx:{height:"100%",overflow:"hidden",pb:7},children:[(0,r.jsx)(f.A,{size:"small",label:"Filter",value:M,onChange:e=>E(e.target.value.toLowerCase()),sx:{mt:1,mb:1},fullWidth:!0}),(0,r.jsx)(c.A,{sx:{height:"100%",overflowY:"auto"},children:T.variables.filter(e=>!M||e.meta.info_string.includes(M)).map(e=>e.display)})]}),(0,r.jsx)(c.A,{role:"tabpanel",id:"files-panel","aria-labelledby":"files-tab",hidden:"files"!==k,children:T.files.map(e=>e.display)}),(0,r.jsxs)(u.A,{variant:"caption",sx:{position:"fixed",bottom:0,left:5,opacity:.8},children:["Processed ",T.date]})]}):(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(b.A,{sx:{display:"flex",justifyContent:"center",mt:5},children:(0,r.jsxs)(x.A,{spacing:3,sx:{maxWidth:500},children:[(0,r.jsxs)(u.A,{children:["Enter the name of a GitHub repository containing a Data Collection Project (e.g.,"," ",(0,r.jsx)("code",{children:"dissc-yale/pophive_demo"}),")"]}),(0,r.jsx)(f.A,{label:"Repository",variant:"standard",value:i,onChange:e=>{C(!1),n(e.target.value)},onKeyDown:e=>{"Enter"==e.key&&S(i)},error:w,helperText:w?"failed to retrieve report":""}),(0,r.jsx)(j.A,{variant:"contained",onClick:()=>S(i),disabled:!i||!K.test(i),children:"View Report"})]})})})]})})}let q=(0,n.A)({colorSchemes:{dark:{palette:{mode:"dark",primary:{main:"#a5cdff"}}},light:{palette:{mode:"light",primary:{main:"#00356b"}}}}});function Q(){return(0,r.jsx)(t.StrictMode,{children:(0,r.jsxs)(l.A,{theme:q,defaultMode:"dark",noSsr:!0,children:[(0,r.jsx)("div",{suppressHydrationWarning:!0,children:(0,r.jsx)(a.Ay,{enableColorScheme:!0})}),(0,r.jsx)($,{})]})})}},7924:(e,s,i)=>{Promise.resolve().then(i.bind(i,3089))}},e=>{e.O(0,[787,441,964,358],()=>e(e.s=7924)),_N_E=e.O()}]);