(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{7924:(e,i,s)=>{Promise.resolve().then(s.bind(s,9387))},9387:(e,i,s)=>{"use strict";s.r(i),s.d(i,{default:()=>q});var r=s(5155),n=s(9839),l=s(8309),a=s(2548),t=s(2115),d=s(4688),h=s(4581),c=s(1218),o=s(5221),x=s(2819),j=s(8534),A=s(9267),g=s(5715),m=s(700),u=s(1960),p=s(3127),b=s(6632),f=s(1338),y=s(7756),v=s(117),_=s(6253),C=s(3148),w=s(5528),S=s(2376),k=s(4220),F=s(6278),M=s(4492),E=s(9927),P=s(7976),D=s(6033),z=s(404),T=s(4263),W=s(9776),R=s(9242);function V(e){let{meta:i}=e,[s,n]=(0,t.useState)(!1),l=()=>n(!s),{info:a,resource:d}=i;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(C.A,{disablePadding:!0,children:(0,r.jsx)(w.Ay,{disablePadding:!0,children:(0,r.jsx)(S.A,{onClick:l,children:(0,r.jsx)(k.A,{primary:a.short_name,secondary:a.short_description})})})}),(0,r.jsxs)(F.A,{open:s,onClose:l,children:[(0,r.jsx)(M.A,{children:a.measure}),(0,r.jsx)(p.A,{"aria-label":"close info",onClick:l,sx:{position:"absolute",right:8,top:12},children:(0,r.jsx)(R.A,{})}),(0,r.jsx)(E.A,{sx:{pt:0},children:(0,r.jsxs)(x.A,{spacing:2,children:[(0,r.jsx)(m.A,{variant:"h5",children:a.long_name}),(0,r.jsx)(m.A,{variant:"body2",children:a.long_description?(0,r.jsx)("span",{dangerouslySetInnerHTML:{__html:a.long_description}}):(0,r.jsx)(r.Fragment,{})}),(0,r.jsxs)(h.A,{children:[(0,r.jsx)(m.A,{variant:"h6",children:"Metadata"}),(0,r.jsxs)(P.A,{size:"small","aria-label":"measure info entries",children:[(0,r.jsx)(D.A,{children:(0,r.jsxs)(z.A,{sx:{"& .MuiTableCell-head":{fontWeight:"bold"}},children:[(0,r.jsx)(T.A,{children:"Entry"}),(0,r.jsx)(T.A,{align:"right",children:"Value"})]})}),(0,r.jsxs)(W.A,{children:[(0,r.jsxs)(z.A,{children:[(0,r.jsx)(T.A,{children:"Category"}),(0,r.jsx)(T.A,{align:"right",children:a.category})]}),(0,r.jsxs)(z.A,{children:[(0,r.jsx)(T.A,{children:"Type"}),(0,r.jsx)(T.A,{align:"right",children:a.measure_type})]}),(0,r.jsxs)(z.A,{children:[(0,r.jsx)(T.A,{children:"Unit"}),(0,r.jsx)(T.A,{align:"right",children:a.unit})]})]})]})]}),(0,r.jsxs)(h.A,{children:[(0,r.jsx)(m.A,{variant:"h6",children:"File"}),(0,r.jsxs)(P.A,{size:"small","aria-label":"measure info entries",children:[(0,r.jsx)(D.A,{children:(0,r.jsxs)(z.A,{sx:{"& .MuiTableCell-head":{fontWeight:"bold"}},children:[(0,r.jsx)(T.A,{children:"Feature"}),(0,r.jsx)(T.A,{align:"right",children:"Value"})]})}),(0,r.jsxs)(W.A,{children:[(0,r.jsxs)(z.A,{children:[(0,r.jsx)(T.A,{children:"File"}),(0,r.jsx)(T.A,{align:"right",children:d.name})]}),(0,r.jsxs)(z.A,{children:[(0,r.jsx)(T.A,{children:"Created"}),(0,r.jsx)(T.A,{align:"right",children:d.created})]}),(0,r.jsxs)(z.A,{children:[(0,r.jsx)(T.A,{children:"Seconds to Build"}),(0,r.jsx)(T.A,{align:"right",children:i.source_time})]}),(0,r.jsxs)(z.A,{children:[(0,r.jsx)(T.A,{children:"Bytes"}),(0,r.jsx)(T.A,{align:"right",children:d.bytes})]}),(0,r.jsxs)(z.A,{children:[(0,r.jsx)(T.A,{children:"Encoding"}),(0,r.jsx)(T.A,{align:"right",children:d.encoding})]}),(0,r.jsxs)(z.A,{children:[(0,r.jsx)(T.A,{children:"MD5"}),(0,r.jsx)(T.A,{align:"right",children:d.md5})]}),(0,r.jsxs)(z.A,{children:[(0,r.jsx)(T.A,{children:"Rows"}),(0,r.jsx)(T.A,{align:"right",children:d.row_count})]})]})]})]}),(0,r.jsxs)(h.A,{children:[(0,r.jsx)(m.A,{variant:"h6",children:"Summary"}),(0,r.jsxs)(P.A,{size:"small","aria-label":"measure summary",children:[(0,r.jsx)(D.A,{children:(0,r.jsxs)(z.A,{sx:{"& .MuiTableCell-head":{fontWeight:"bold"}},children:[(0,r.jsx)(T.A,{children:"Component"}),(0,r.jsx)(T.A,{align:"right",children:"Value"})]})}),(0,r.jsxs)(W.A,{children:[(0,r.jsxs)(z.A,{children:[(0,r.jsx)(T.A,{children:"Duplicates"}),(0,r.jsx)(T.A,{align:"right",children:i.duplicates})]}),(0,r.jsxs)(z.A,{children:[(0,r.jsx)(T.A,{children:"Missing"}),(0,r.jsx)(T.A,{align:"right",children:i.missing})]}),(0,r.jsxs)(z.A,{children:[(0,r.jsx)(T.A,{children:"Type"}),(0,r.jsx)(T.A,{align:"right",children:i.type})]}),"string"===i.type?(0,r.jsxs)(z.A,{children:[(0,r.jsx)(T.A,{children:"Levels"}),(0,r.jsx)(T.A,{align:"right",children:Object.keys(i.table).length})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(z.A,{children:[(0,r.jsx)(T.A,{children:"Min"}),(0,r.jsx)(T.A,{align:"right",children:i.min.toFixed(2)})]}),(0,r.jsxs)(z.A,{children:[(0,r.jsx)(T.A,{children:"Mean"}),(0,r.jsx)(T.A,{align:"right",children:i.mean.toFixed(2)})]}),(0,r.jsxs)(z.A,{children:[(0,r.jsx)(T.A,{children:"Standard Deviation"}),(0,r.jsx)(T.A,{align:"right",children:i.sd.toFixed(2)})]}),(0,r.jsxs)(z.A,{children:[(0,r.jsx)(T.A,{children:"Max"}),(0,r.jsx)(T.A,{align:"right",children:i.max.toFixed(2)})]})]})]})]})]}),a.sources&&(0,r.jsxs)(h.A,{children:[(0,r.jsx)(m.A,{variant:"h6",children:"Sources"}),a.sources.map(e=>(0,r.jsx)(B,{source:e},e.name))]})]})})]})]})}function B(e){let{source:i}=e;return(0,r.jsxs)(c.A,{children:[(0,r.jsx)(o.A,{title:i.name,subheader:(0,r.jsx)(u.A,{href:i.url,rel:"noreferrer",target:"_blank",children:i.url.replace("https://","")})}),i.location&&(0,r.jsxs)(b.A,{sx:{pt:0},children:[(0,r.jsx)(m.A,{variant:"body2",children:i.location}),i.location_url&&(0,r.jsx)(u.A,{variant:"body2",href:i.location_url,rel:"noreferrer",target:"_blank",children:i.location_url.replace("https://","")})]})]})}var O=s(1629),I=s(978),L=s(5206),N=s(6874),H=s.n(N);let U=/standard.*/;function G(e){let{meta:i}=e,[s,n]=(0,t.useState)(!1),l=()=>n(!s),{resource:a,issues:d}=i,{versions:c}=a,o=d&&d.data?Array.isArray(d.data)?d.data:[d.data]:[],j=d&&d.measures?Array.isArray(d.measures)?d.measures:[d.measures]:[],A="number"!=typeof i.source_time,g=A||o.length||j.length,u=a.name.replace(U,"ingest.R");return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(C.A,{disablePadding:!0,children:(0,r.jsx)(w.Ay,{disablePadding:!0,children:(0,r.jsxs)(S.A,{onClick:l,children:[(0,r.jsx)(O.A,{sx:{minWidth:40},children:A?(0,r.jsx)(R.A,{color:"error"}):g?(0,r.jsx)(I.A,{color:"warning"}):(0,r.jsx)(L.A,{color:"success"})}),(0,r.jsx)(k.A,{primary:a.name})]})})}),(0,r.jsxs)(F.A,{open:s,onClose:l,children:[(0,r.jsx)(M.A,{children:a.name}),(0,r.jsx)(p.A,{"aria-label":"close info",onClick:l,sx:{position:"absolute",right:8,top:12},children:(0,r.jsx)(R.A,{})}),(0,r.jsx)(E.A,{sx:{pt:0},children:(0,r.jsxs)(x.A,{spacing:2,children:[(0,r.jsxs)(h.A,{children:[(0,r.jsx)(m.A,{variant:"h6",children:"Metadata"}),(0,r.jsxs)(P.A,{size:"small","aria-label":"measure info entries",children:[(0,r.jsx)(D.A,{children:(0,r.jsxs)(z.A,{sx:{"& .MuiTableCell-head":{fontWeight:"bold"}},children:[(0,r.jsx)(T.A,{children:"Feature"}),(0,r.jsx)(T.A,{align:"right",children:"Value"})]})}),(0,r.jsxs)(W.A,{children:[(0,r.jsxs)(z.A,{children:[(0,r.jsx)(T.A,{role:"heading",children:"Source Script"}),(0,r.jsx)(T.A,{align:"right",children:(0,r.jsx)(H(),{href:"https://github.com/".concat(i.repo_name,"/blob/main/").concat(u),rel:"noreferrer",target:"_blank",children:u})})]}),(0,r.jsxs)(z.A,{children:[(0,r.jsx)(T.A,{role:"heading",children:"File"}),(0,r.jsx)(T.A,{align:"right",children:(0,r.jsx)(H(),{href:"https://github.com/".concat(i.repo_name,"/blob/main/").concat(a.name),rel:"noreferrer",target:"_blank",children:a.name})})]}),(0,r.jsxs)(z.A,{children:[(0,r.jsx)(T.A,{role:"heading",children:"Created"}),(0,r.jsx)(T.A,{align:"right",children:a.created})]}),(0,r.jsxs)(z.A,{children:[(0,r.jsx)(T.A,{role:"heading",children:"Seconds to Build"}),(0,r.jsx)(T.A,{align:"right",children:i.source_time})]}),(0,r.jsxs)(z.A,{children:[(0,r.jsx)(T.A,{role:"heading",children:"Bytes"}),(0,r.jsx)(T.A,{align:"right",children:a.bytes})]}),(0,r.jsxs)(z.A,{children:[(0,r.jsx)(T.A,{role:"heading",children:"Encoding"}),(0,r.jsx)(T.A,{align:"right",children:a.encoding})]}),(0,r.jsxs)(z.A,{children:[(0,r.jsx)(T.A,{role:"heading",children:"MD5"}),(0,r.jsx)(T.A,{align:"right",children:a.md5})]}),(0,r.jsxs)(z.A,{children:[(0,r.jsx)(T.A,{role:"heading",children:"Rows"}),(0,r.jsx)(T.A,{align:"right",children:a.row_count})]})]})]})]}),c&&c.hash&&(0,r.jsxs)(h.A,{children:[(0,r.jsx)(m.A,{variant:"h6",children:"Previous Versions"}),(0,r.jsxs)(P.A,{size:"small","aria-label":"measure info entries",children:[(0,r.jsx)(D.A,{children:(0,r.jsxs)(z.A,{sx:{"& .MuiTableCell-head":{fontWeight:"bold"}},children:[(0,r.jsx)(T.A,{children:"Date"}),(0,r.jsx)(T.A,{align:"right",children:"Message"}),(0,r.jsx)(T.A,{align:"right",children:"Commit"})]})}),(0,r.jsx)(W.A,{children:c.hash.map((e,s)=>(0,r.jsxs)(z.A,{children:[(0,r.jsx)(T.A,{align:"right",children:c.date[s]}),(0,r.jsx)(T.A,{align:"right",children:c.message[s]}),(0,r.jsx)(T.A,{align:"right",title:e,children:(0,r.jsx)(H(),{href:"https://raw.githubusercontent.com/".concat(i.repo_name,"/").concat(e,"/").concat(a.name),rel:"noreferrer",target:"_blank",children:e.substring(0,6)})})]},s))})]})]}),o.length?(0,r.jsxs)(h.A,{children:[(0,r.jsx)(m.A,{variant:"h6",children:"Data Issues"}),(0,r.jsx)(C.A,{disablePadding:!0,children:o.map((e,i)=>(0,r.jsx)(w.Ay,{children:e},i))})]}):(0,r.jsx)(r.Fragment,{}),j.length?(0,r.jsxs)(h.A,{children:[(0,r.jsx)(m.A,{variant:"h6",children:"Measure Issues"}),(0,r.jsx)(C.A,{disablePadding:!0,children:j.map((e,i)=>(0,r.jsx)(w.Ay,{children:e},i))})]}):(0,r.jsx)(r.Fragment,{}),A&&(0,r.jsxs)(h.A,{children:[(0,r.jsx)(m.A,{variant:"h6",color:"error",children:"Source Failure"}),(0,r.jsx)(m.A,{children:i.logs})]})]})})]})]})}let J={time:!0,geography:!0},K=/^[^\/]+\/[^\/]+$/;function Y(){let{mode:e,setMode:i}=(0,d.Ut)(),[s,n]=(0,t.useState)(""),[l,a]=(0,t.useState)(""),[C,w]=(0,t.useState)(!1),S=e=>{w(!1),a(e)};(0,t.useEffect)(()=>{let e=window.location.search.replace("?","").split("&").filter(e=>e.startsWith("repo="));e.length&&S(e[0].replace("repo=",""))});let[k,F]=(0,t.useState)("variables"),[M,E]=(0,t.useState)(""),[P,D]=(0,t.useState)(!1),[z,T]=(0,t.useState)({date:"2025",files:[],variables:[]});(0,t.useEffect)(()=>{l&&fetch("https://api.github.com/repos/".concat(l,"/contents/report.json.gz")).then(async e=>{if(200!==e.status){w(!0),a("");return}let i=await (l?new Blob([Uint8Array.from(atob((await e.json()).content).split("").map(e=>e.charCodeAt(0)))]):e.blob()),s=await new Response(await i.stream().pipeThrough(new DecompressionStream("gzip"))).json(),n=[],t=[],d={};Object.keys(s.metadata).forEach(e=>{let i=s.metadata[e];i.resources.forEach(l=>{l.name="data/".concat(e,"/standard/").concat(l.filename);let a={resource:l,repo_name:s.repo,source_time:s.source_times[e],logs:s.logs[e],issues:e in s.issues?s.issues[e][l.name]:{}};n.push({meta:a,display:(0,r.jsx)(G,{meta:a},l.name)}),l.schema.fields.forEach(n=>{if(!(n.name in J)&&!(n.name in d)){d[n.name]=!0;let a=i.measure_info[n.name];if(a){let i={...n,info:a,info_string:a?JSON.stringify(a).toLowerCase():"",source_name:e,source_time:s.source_times[e],resource:l};t.push({meta:i,display:(0,r.jsx)(V,{meta:i},n.name)})}}})})}),T({date:s.date,files:n,variables:t}),D(!0)})},[l]);let W="dark"===e;return(0,r.jsx)(h.A,{sx:{position:"absolute",top:0,left:0,bottom:0,right:0,overflow:"hidden"},children:(0,r.jsxs)(c.A,{sx:{height:"100%"},children:[(0,r.jsx)(o.A,{sx:{p:0},title:(0,r.jsxs)(x.A,{direction:"row",sx:{justifyContent:"space-between",alignItems:"center"},children:[(0,r.jsxs)(j.A,{href:"/dcf/",rel:"noreferrer",children:[(0,r.jsx)(y.A,{}),"Package Site"]}),P?(0,r.jsxs)(A.A,{value:k,onChange:(e,i)=>F(i),children:[(0,r.jsx)(g.A,{label:"Variables",value:"variables",id:"variables-tab","aria-controls":"variables-panel"}),(0,r.jsx)(g.A,{label:"Files",value:"files",id:"files-tab","aria-controls":"files-panel"})]}):(0,r.jsx)(m.A,{fontSize:"1.35em",children:"Data Collection Project"}),(0,r.jsxs)(x.A,{direction:"row",spacing:2,children:[P&&(0,r.jsx)(u.A,{href:"https://github.com/".concat(l.trim()),target:"_blank",rel:"noreferrer",sx:{fontSize:".7em",textDecoration:"none",alignSelf:"center"},children:l}),(0,r.jsx)(j.A,{variant:"outlined",color:"warning",onClick:()=>{D(!1),w(!1),a("")},disabled:!l,children:"Reset"}),(0,r.jsx)(p.A,{color:"inherit",onClick:()=>i(W?"light":"dark"),"aria-label":"toggle dark mode",children:W?(0,r.jsx)(v.A,{}):(0,r.jsx)(_.A,{})})]})]})}),P?(0,r.jsxs)(b.A,{sx:{position:"absolute",top:48,bottom:0,width:"100%",overflow:"hidden"},children:[(0,r.jsxs)(h.A,{role:"tabpanel",id:"variables-panel","aria-labelledby":"variables-tab",hidden:"variables"!==k,sx:{height:"100%",overflow:"hidden",pb:7},children:[(0,r.jsx)(f.A,{size:"small",label:"Filter",value:M,onChange:e=>E(e.target.value.toLowerCase()),sx:{mt:1,mb:1},fullWidth:!0}),(0,r.jsx)(h.A,{sx:{height:"100%",overflowY:"auto"},children:z.variables.filter(e=>!M||e.meta.info_string.includes(M)).map(e=>e.display)})]}),(0,r.jsx)(h.A,{role:"tabpanel",id:"files-panel","aria-labelledby":"files-tab",hidden:"files"!==k,children:z.files.map(e=>e.display)}),(0,r.jsxs)(m.A,{variant:"caption",sx:{position:"fixed",bottom:0,left:5,opacity:.8},children:["Processed ",z.date]})]}):(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(b.A,{sx:{display:"flex",justifyContent:"center",mt:5},children:(0,r.jsxs)(x.A,{spacing:3,sx:{maxWidth:500},children:[(0,r.jsxs)(m.A,{children:["Enter the name of a GitHub repository containing a Data Collection Project (e.g.,"," ",(0,r.jsx)("code",{children:"dissc-yale/pophive_demo"}),")"]}),(0,r.jsx)(f.A,{label:"Repository",variant:"standard",value:s,onChange:e=>{w(!1),n(e.target.value)},onKeyDown:e=>{"Enter"==e.key&&S(s)},error:C,helperText:C?"failed to retrieve report":""}),(0,r.jsx)(j.A,{variant:"contained",onClick:()=>S(s),disabled:!s||!K.test(s),children:"View Report"})]})})})]})})}let $=(0,n.A)({colorSchemes:{dark:{palette:{mode:"dark",primary:{main:"#a5cdff"}}},light:{palette:{mode:"light",primary:{main:"#00356b"}}}}});function q(){return(0,r.jsx)(t.StrictMode,{children:(0,r.jsxs)(l.A,{theme:$,defaultMode:"dark",noSsr:!0,children:[(0,r.jsx)("div",{suppressHydrationWarning:!0,children:(0,r.jsx)(a.Ay,{enableColorScheme:!0})}),(0,r.jsx)(Y,{})]})})}}},e=>{var i=i=>e(e.s=i);e.O(0,[787,441,684,358],()=>i(7924)),_N_E=e.O()}]);