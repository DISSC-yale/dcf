(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8974],{17924:(e,s,r)=>{Promise.resolve().then(r.bind(r,43921))},43921:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>ed});var i=r(95155),n=r(22691),a=r(76129),t=r(89869),l=r(12115),c=r(27960),o=r(41574),d=r(70539),h=r(61294),x=r(41292),j=r(27855),u=r(59300),g=r(75416),A=r(80317),p=r(37440),m=r(24288),b=r(24627),f=r(52356),y=r(8597),v=r(96024),_=r(40726),k=r(1269),w=r(69250),C=r(75265),F=r(2021),S=r(99496),E=r(56120),z=r(80223),M=r(54463),O=r(31512),D=r(6388),T=r(29999),W=r(45490),P=r(29518),R=r(39970),V=r(33195),L=r(91955),B=r(52619),H=r.n(B);function N(e){let{filename:s,meta:r}=e,n=s.replace("./","");return(0,i.jsx)(p.A,{href:"https://github.com/".concat(r.repo_name,"/blob/").concat(r.settings&&r.settings.branch?r.settings.branch:"main","/").concat(n),rel:"noreferrer",target:"_blank",children:n})}function Y(e){let{meta:s}=e,[r,n]=(0,l.useState)(!1),a=()=>n(!r),{resource:t,issues:c}=s,{versions:d}=t,h=c&&c.data?Array.isArray(c.data)?c.data:[c.data]:[],j=c&&c.measures?Array.isArray(c.measures)?c.measures:[c.measures]:[],u="number"!=typeof s.source_time,g=u||h.length||j.length,p=t.name.replace("./","");return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(k.A,{onClick:a,children:[(0,i.jsx)(W.A,{sx:{minWidth:40},children:u?(0,i.jsx)(T.A,{color:"error"}):g?(0,i.jsx)(V.A,{color:"warning"}):(0,i.jsx)(L.A,{color:"success"})}),(0,i.jsx)(w.A,{primary:p})]}),(0,i.jsxs)(C.A,{open:r,onClose:a,children:[(0,i.jsx)(F.A,{sx:{wordWrap:"break-word",pr:6},children:p}),(0,i.jsx)(m.A,{"aria-label":"close info",onClick:a,sx:{position:"absolute",right:8,top:12},children:(0,i.jsx)(T.A,{})}),(0,i.jsx)(S.A,{sx:{pt:0,wordBreak:"break-word","& th":{p:0},"& td":{verticalAlign:"top",p:.1}},children:(0,i.jsxs)(x.A,{spacing:2,children:[(0,i.jsxs)(o.A,{children:[(0,i.jsx)(A.A,{variant:"h6",children:"Metadata"}),(0,i.jsxs)(E.A,{size:"small","aria-label":"measure info entries",children:[(0,i.jsx)(z.A,{children:(0,i.jsxs)(M.A,{sx:{"& .MuiTableCell-head":{fontWeight:"bold"}},children:[(0,i.jsx)(O.A,{children:"Feature"}),(0,i.jsx)(O.A,{align:"right",children:"Value"})]})}),(0,i.jsxs)(D.A,{children:[(0,i.jsxs)(M.A,{children:[(0,i.jsxs)(O.A,{role:"heading",children:["Source Script",s.process.scripts.length>1?"s":""]}),(0,i.jsx)(O.A,{align:"right",children:s.process.scripts.map(e=>(0,i.jsx)("p",{children:(0,i.jsx)(N,{filename:"".concat(s.settings.data_dir||"data","/").concat(s.process.name,"/").concat(e.path),meta:s})},e.path))})]}),(0,i.jsxs)(M.A,{children:[(0,i.jsx)(O.A,{role:"heading",children:"File"}),(0,i.jsx)(O.A,{align:"right",children:(0,i.jsx)(N,{filename:t.name,meta:s})})]}),(0,i.jsxs)(M.A,{children:[(0,i.jsx)(O.A,{role:"heading",children:"Created"}),(0,i.jsx)(O.A,{align:"right",children:t.created})]}),(0,i.jsxs)(M.A,{children:[(0,i.jsx)(O.A,{role:"heading",children:"Seconds to Build"}),(0,i.jsx)(O.A,{align:"right",children:s.source_time})]}),(0,i.jsxs)(M.A,{children:[(0,i.jsx)(O.A,{role:"heading",children:"Bytes"}),(0,i.jsx)(O.A,{align:"right",children:t.bytes})]}),(0,i.jsxs)(M.A,{children:[(0,i.jsx)(O.A,{role:"heading",children:"Encoding"}),(0,i.jsx)(O.A,{align:"right",children:t.encoding})]}),(0,i.jsxs)(M.A,{children:[(0,i.jsx)(O.A,{role:"heading",children:"MD5"}),(0,i.jsx)(O.A,{align:"right",children:t.md5})]}),(0,i.jsxs)(M.A,{children:[(0,i.jsx)(O.A,{role:"heading",children:"Rows"}),(0,i.jsx)(O.A,{align:"right",children:t.row_count})]})]})]})]}),s.variables.length?(0,i.jsxs)(o.A,{children:[(0,i.jsx)(A.A,{variant:"h6",children:"Variables"}),(0,i.jsx)(o.A,{sx:{maxHeight:300,overflowY:"auto"},children:s.variables})]}):(0,i.jsx)(i.Fragment,{}),h.length?(0,i.jsxs)(o.A,{children:[(0,i.jsx)(A.A,{variant:"h6",children:"Data Issues"}),(0,i.jsx)(P.A,{disablePadding:!0,children:h.map((e,s)=>(0,i.jsx)(R.Ay,{children:e},s))})]}):(0,i.jsx)(i.Fragment,{}),j.length?(0,i.jsxs)(o.A,{children:[(0,i.jsx)(A.A,{variant:"h6",children:"Measure Issues"}),(0,i.jsx)(P.A,{disablePadding:!0,children:j.map((e,s)=>(0,i.jsx)(R.Ay,{children:e},s))})]}):(0,i.jsx)(i.Fragment,{}),u&&(0,i.jsxs)(o.A,{children:[(0,i.jsx)(A.A,{variant:"h6",color:"error",children:"Source Failure"}),(0,i.jsx)(A.A,{children:s.logs})]}),d&&d.hash&&(0,i.jsxs)(o.A,{children:[(0,i.jsx)(A.A,{variant:"h6",children:"Previous Versions"}),(0,i.jsx)(o.A,{sx:{maxHeight:300,overflowY:"auto"},children:(0,i.jsxs)(E.A,{size:"small","aria-label":"measure info entries",children:[(0,i.jsx)(z.A,{children:(0,i.jsxs)(M.A,{sx:{"& .MuiTableCell-head":{fontWeight:"bold"}},children:[(0,i.jsx)(O.A,{children:"Date"}),(0,i.jsx)(O.A,{children:"Message"}),(0,i.jsx)(O.A,{children:"Commit"})]})}),(0,i.jsx)(D.A,{children:d.hash.map((e,r)=>(0,i.jsxs)(M.A,{children:[(0,i.jsx)(O.A,{width:220,children:d.date[r]}),(0,i.jsx)(O.A,{children:d.message[r]}),(0,i.jsx)(O.A,{width:60,title:e,children:(0,i.jsx)(H(),{href:"https://raw.githubusercontent.com/".concat(s.repo_name,"/").concat(e,"/").concat(p),rel:"noreferrer",target:"_blank",children:e.substring(0,6)})})]},r))})]})})]})]})})]})]})}function I(e){let{meta:s,file:r}=e,[n,a]=(0,l.useState)(!1),t=()=>a(!n),{info:c,resource:d}=s;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(k.A,{onClick:t,children:(0,i.jsx)(w.A,{primary:c.short_name||c.id,secondary:c.short_description})}),(0,i.jsxs)(C.A,{open:n,onClose:t,children:[(0,i.jsx)(F.A,{children:c.id}),(0,i.jsx)(m.A,{"aria-label":"close info",onClick:t,sx:{position:"absolute",right:8,top:12},children:(0,i.jsx)(T.A,{})}),(0,i.jsx)(S.A,{sx:{pt:0},children:(0,i.jsxs)(x.A,{spacing:2,children:[(0,i.jsx)(A.A,{variant:"h5",children:c.long_name}),(0,i.jsx)(A.A,{variant:"body2",children:c.long_description?(0,i.jsx)("span",{dangerouslySetInnerHTML:{__html:c.long_description}}):(0,i.jsx)(i.Fragment,{})}),(0,i.jsxs)(o.A,{children:[(0,i.jsx)(A.A,{variant:"h6",children:"Metadata"}),(0,i.jsxs)(E.A,{size:"small","aria-label":"measure info entries",children:[(0,i.jsx)(z.A,{children:(0,i.jsxs)(M.A,{sx:{"& .MuiTableCell-head":{fontWeight:"bold"}},children:[(0,i.jsx)(O.A,{children:"Entry"}),(0,i.jsx)(O.A,{align:"right",children:"Value"})]})}),(0,i.jsxs)(D.A,{children:[(0,i.jsxs)(M.A,{children:[(0,i.jsx)(O.A,{children:"Category"}),(0,i.jsx)(O.A,{align:"right",children:c.category})]}),(0,i.jsxs)(M.A,{children:[(0,i.jsx)(O.A,{children:"Type"}),(0,i.jsx)(O.A,{align:"right",children:c.measure_type})]}),(0,i.jsxs)(M.A,{children:[(0,i.jsx)(O.A,{children:"Unit"}),(0,i.jsx)(O.A,{align:"right",children:c.unit})]})]})]})]}),(0,i.jsxs)(o.A,{children:[(0,i.jsx)(A.A,{variant:"h6",children:"File"}),(0,i.jsxs)(E.A,{size:"small","aria-label":"measure info entries",children:[(0,i.jsx)(z.A,{children:(0,i.jsxs)(M.A,{sx:{"& .MuiTableCell-head":{fontWeight:"bold"}},children:[(0,i.jsx)(O.A,{children:"Feature"}),(0,i.jsx)(O.A,{align:"right",children:"Value"})]})}),(0,i.jsxs)(D.A,{children:[(0,i.jsxs)(M.A,{children:[(0,i.jsx)(O.A,{children:"File"}),(0,i.jsx)(O.A,{align:"right",children:(0,i.jsx)(Y,{meta:r})})]}),(0,i.jsxs)(M.A,{children:[(0,i.jsx)(O.A,{children:"Created"}),(0,i.jsx)(O.A,{align:"right",children:d.created})]}),(0,i.jsxs)(M.A,{children:[(0,i.jsx)(O.A,{children:"Seconds to Build"}),(0,i.jsx)(O.A,{align:"right",children:s.source_time})]}),(0,i.jsxs)(M.A,{children:[(0,i.jsx)(O.A,{children:"Bytes"}),(0,i.jsx)(O.A,{align:"right",children:d.bytes})]}),(0,i.jsxs)(M.A,{children:[(0,i.jsx)(O.A,{children:"Encoding"}),(0,i.jsx)(O.A,{align:"right",children:d.encoding})]}),(0,i.jsxs)(M.A,{children:[(0,i.jsx)(O.A,{children:"MD5"}),(0,i.jsx)(O.A,{align:"right",children:d.md5})]}),(0,i.jsxs)(M.A,{children:[(0,i.jsx)(O.A,{children:"Rows"}),(0,i.jsx)(O.A,{align:"right",children:d.row_count})]})]})]})]}),(0,i.jsxs)(o.A,{children:[(0,i.jsx)(A.A,{variant:"h6",children:"Summary"}),(0,i.jsxs)(E.A,{size:"small","aria-label":"measure summary",children:[(0,i.jsx)(z.A,{children:(0,i.jsxs)(M.A,{sx:{"& .MuiTableCell-head":{fontWeight:"bold"}},children:[(0,i.jsx)(O.A,{children:"Component"}),(0,i.jsx)(O.A,{align:"right",children:"Value"})]})}),(0,i.jsxs)(D.A,{children:[(0,i.jsxs)(M.A,{children:[(0,i.jsx)(O.A,{children:"Duplicates"}),(0,i.jsx)(O.A,{align:"right",children:s.duplicates})]}),(0,i.jsxs)(M.A,{children:[(0,i.jsx)(O.A,{children:"Missing"}),(0,i.jsx)(O.A,{align:"right",children:s.missing})]}),(0,i.jsxs)(M.A,{children:[(0,i.jsx)(O.A,{children:"Type"}),(0,i.jsx)(O.A,{align:"right",children:s.type})]}),"string"===s.type?(0,i.jsxs)(M.A,{children:[(0,i.jsx)(O.A,{children:"Levels"}),(0,i.jsx)(O.A,{align:"right",children:Object.keys(s.table).length})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(M.A,{children:[(0,i.jsx)(O.A,{children:"Min"}),(0,i.jsx)(O.A,{align:"right",children:s.min.toFixed(2)})]}),(0,i.jsxs)(M.A,{children:[(0,i.jsx)(O.A,{children:"Mean"}),(0,i.jsx)(O.A,{align:"right",children:s.mean.toFixed(2)})]}),(0,i.jsxs)(M.A,{children:[(0,i.jsx)(O.A,{children:"Standard Deviation"}),(0,i.jsx)(O.A,{align:"right",children:s.sd.toFixed(2)})]}),(0,i.jsxs)(M.A,{children:[(0,i.jsx)(O.A,{children:"Max"}),(0,i.jsx)(O.A,{align:"right",children:s.max.toFixed(2)})]})]})]})]})]}),c.sources&&c.sources.length?(0,i.jsxs)(o.A,{children:[(0,i.jsx)(A.A,{variant:"h6",children:"Sources"}),c.sources.map(e=>(0,i.jsx)(U,{source:e},e.name))]}):(0,i.jsx)(i.Fragment,{})]})})]})]})}function U(e){let{source:s}=e;return(0,i.jsxs)(d.A,{children:[(0,i.jsx)(h.A,{title:s.name,subheader:s.url?(0,i.jsx)(p.A,{href:s.url,rel:"noreferrer",target:"_blank",children:s.url.replace("https://","")}):(0,i.jsx)(i.Fragment,{})}),s.location&&(0,i.jsxs)(b.A,{sx:{pt:0},children:[(0,i.jsx)(A.A,{variant:"body2",children:s.location}),s.location_url&&(0,i.jsx)(p.A,{variant:"body2",href:s.location_url,rel:"noreferrer",target:"_blank",children:s.location_url.replace("https://","")})]})]})}var G=r(52531),q=r(45587),J=r(23474),K=r(37842),$=r(67285);let Q=/https?:\/\/(?:www\.)?/;function X(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return'<a href="'.concat(e,'" target="_blank" rel="noreferrer">').concat(s||e.replace(Q,""),"</a>")}function Z(e,s){return("bundle"===e.type)-("bundle"===s.type)}function ee(e){let{report:s}=e,[r,n]=(0,l.useState)(60),a=(0,c.Ut)(),t=(0,l.useRef)(null);return(0,l.useEffect)(()=>{if(!t.current)return;let e=s.settings,r=(e.data_dir||"data")+"/",i=(e.branch||"main")+"/",n=e.github_account?e.github_account+"/"+e.repo_name:"",l="https://github.com/"+n+"/tree/"+i+r,c="https://github.com/"+n+"/blob/"+i+r,o=[],d={},h={},x={},j=[],u=0,g=0,A=0;Object.keys(s.processes).forEach(e=>s.processes[e].name=e),Object.keys(s.metadata).forEach(e=>{let r=e.split("/")[0];r in d||(d[r]=[]),d[r].push(s.metadata[e])}),Object.values(s.processes).sort(Z).forEach(e=>{let i=e.name;o.push("subgraph "+i+(n?'["<strong>'.concat(X(l+i,i),'</strong>"]'):""),"direction LR");let a=i in s.source_times,t=s.logs[i];e.scripts.forEach(e=>{o.push("script"+u+++(n?'["'.concat(X(l+i+"/"+e.path,e.path)+(e.last_run?'<br /><p style="font-size: .7em">(last ran on '.concat(e.last_run," in ").concat(e.run_time," seconds)</p>"):"")+(!a&&t?'<br /><span style="font-size: .7em"><strong>Failed:</strong> '.concat(t.replaceAll('"',"'"),"</span>"):""),'"]'):"")+":::"+(a?"pass":"fail"))});let d=s.issues[i];Object.keys(e.check_results).forEach(s=>{let i="bundle"===e.type?"dist/":"standard/";if(s.includes(i)){let i=s.split(r)[1];x[i]=++A;let a=d[s],t=a&&Object.keys(a).length;o.push("file"+A+(n?'["'.concat(X(c+i,i.split("bundle"===e.type?"dist/":"standard/")[1])+(t?"<br />"+function(e){let s=[];return Object.values(e).forEach(e=>{if("string"==typeof e)s.push("<li><code>".concat(e,"</code></li>"));else{let r=e[0].split(": ");2===r.length?s.push("<li><code>".concat(r[0],": ").concat(e.map(e=>e.split(": ")[1]).join(", "),"</code></li>")):e.forEach(e=>s.push("<li><code>".concat(e,"</code></li>")))}}),"<ul>"+s.join("")+"</ul>"}(a):""),'"]'):"")+":::"+(t?"warn":"pass"))}}),o.push("end"),"bundle"===e.type&&e.source_files.forEach(e=>{e in x&&j.push("file".concat(x[e]," --\x3e ").concat(i))})}),Object.keys(s.metadata).forEach(e=>{s.metadata[e].resources.forEach(e=>{let s=e.name.split(r)[1];e.source.forEach(e=>{let r=e.url||"",i=e.location_url||r;r in h||(h[r]="source"+ ++g,o.push("".concat("source"+g,'(("').concat(e.url?X(e.url,e.name):e.name,'"))')),e.organization&&(e.organization in h||(h[e.organization]="source"+ ++g,o.push("".concat("source"+g,'(("').concat(e.organization_url?X(e.organization_url,e.organization):e.organization,'"))'))),j.push("".concat(h[e.organization]," --- ").concat(h[r])))),i in h||(h[i]="source"+ ++g,o.push(e.location_url?"".concat(h[i],'["').concat(e.location_url?X(e.location_url,e.location):e.name,'"]'):"".concat(h[i],'(("').concat(e.url?X(e.url,e.name):e.name,'"))'))),r!==i&&j.push("".concat(h[r]," --- ").concat(h[i])),j.push("  "+h[i]+" --\x3e file"+x[s])})})}),j.sort(),o.push(...new Set(j)),q.A.render("diagram",["---","config:","  theme: '".concat("dark"===a.mode?"dark":"default","'"),"---","flowchart LR","classDef pass stroke:#66bb6a","classDef warn stroke:#ffa726","classDef fail stroke:#f44336",...o].join("\n")).then(e=>{requestAnimationFrame(()=>{t.current.innerHTML=e.svg})})},[s,a.mode]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(G.A,{disableGutters:!0,sx:{position:"absolute",right:35},children:[(0,i.jsx)(m.A,{disabled:10===r,"aria-label":"zoom out",onClick:()=>{n(r>10?r-10:0)},children:(0,i.jsx)(J.A,{})}),(0,i.jsx)(m.A,{disabled:60===r,"aria-label":"reset",onClick:()=>{n(60)},children:(0,i.jsx)(K.A,{})}),(0,i.jsx)(m.A,{disabled:150===r,"aria-label":"zoom in",onClick:()=>{n(r<150?r+10:150)},children:(0,i.jsx)($.A,{})})]}),(0,i.jsx)(o.A,{sx:{width:r+"%",m:"auto",mt:"64px","& svg":{maxWidth:"9999px !important"}},ref:t})]})}var es=r(34804),er=r(34839);function ei(e){let{variables:s}=e,r=(0,l.useMemo)(()=>{let e={};return Object.keys(s).forEach(r=>{let i=s[r];i.info.sources&&i.info.sources.forEach(s=>{s.id in e||(e[s.id]={source:s,variables:[]}),e[s.id].variables.push(i)})}),e},[s]);return(0,i.jsx)(i.Fragment,{children:Object.values(r).map((e,s)=>{let{source:r,variables:n}=e;return(0,i.jsxs)(o.A,{sx:{pt:2},children:[(0,i.jsx)(A.A,{variant:"h4",children:r.name}),r.url&&(0,i.jsx)(p.A,{href:r.url,rel:"noreferrer",target:"_blank",children:r.url.replace("https://","")}),r.organization&&(0,i.jsxs)(A.A,{sx:{pt:1,pb:1},children:["Organization:"," ",r.organization_url?(0,i.jsx)(p.A,{href:r.organization_url,rel:"noreferrer",target:"_blank",children:r.organization}):r.organization]}),(0,i.jsx)(A.A,{children:r.description}),r.notes&&r.notes.length?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(A.A,{variant:"h6",children:"Notes:"}),(0,i.jsx)(P.A,{children:r.notes.map((e,s)=>(0,i.jsx)(R.Ay,{children:e},s))})]}):(0,i.jsx)(i.Fragment,{}),(0,i.jsx)(er.A,{variant:"middle",sx:{p:1}}),(0,i.jsx)(A.A,{variant:"h6",children:"Variables:"}),(0,i.jsx)(x.A,{spacing:1,children:n.map(e=>e.display)})]},s)})})}let en={};function ea(e){let{sources:s}=e,[r,n]=(0,l.useState)({category:"",subcategory:""}),a=(0,l.useMemo)(()=>{let e=[];return Object.keys(s).sort().forEach(a=>{let t=s[a];e.push((0,i.jsx)(P.A,{component:"div",disablePadding:!0,subheader:(0,i.jsx)(es.A,{children:a}),children:Object.keys(t).sort().map(e=>{let s=a+e,t="subcat"+Object.keys(en).length;return en[t]=s,r.subcategory||n({category:a,subcategory:e}),(0,i.jsx)(k.A,{selected:r.category===a&&r.subcategory===e,onClick:()=>{n({category:a,subcategory:e})},children:(0,i.jsx)(w.A,{primary:e})},s)})},a))}),e},[s,r]),t=(0,l.useMemo)(()=>{if(r.category in s){let e=s[r.category];if(r.subcategory in e)return e[r.subcategory]}},[r,s]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.A,{sx:{position:"absolute",width:"250px"},children:(0,i.jsx)(P.A,{disablePadding:!0,children:a})}),(0,i.jsx)(o.A,{sx:{position:"absolute",left:"280px"},children:r.subcategory?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(A.A,{variant:"caption",children:r.category+" > "+r.subcategory}),t&&(0,i.jsx)(ei,{variables:t})]}):(0,i.jsx)(A.A,{children:"No Subcategories"})})]})}let et={time:!0,geography:!0},el=/^[^\/]+\/[^\/]+$/;function ec(){let{mode:e,setMode:s}=(0,c.Ut)(),[r,n]=(0,l.useState)(""),[a,t]=(0,l.useState)(""),[k,w]=(0,l.useState)(!1),C=e=>{w(!1),t(e)};(0,l.useEffect)(()=>{let e=window.location.search.replace("?","").split("&").filter(e=>e.startsWith("repo="));e.length&&C(e[0].replace("repo=",""))},[]);let[F,S]=(0,l.useState)("variables"),[E,z]=(0,l.useState)(""),[M,O]=(0,l.useState)(!1),[D,T]=(0,l.useState)({files:[],variables:[],categories:{}});(0,l.useEffect)(()=>{a&&fetch("https://api.github.com/repos/".concat(a,"/contents/report.json.gz")).then(async e=>{if(200!==e.status)return void w(!0);let s=await new Blob([Uint8Array.from(atob((await e.json()).content).split("").map(e=>e.charCodeAt(0)))]),r=await new Response(await s.stream().pipeThrough(new DecompressionStream("gzip"))).json(),n=[],t=[],l={},c={},o={};Object.keys(r.metadata).forEach(e=>{if(e.includes("/standard")){let s=r.metadata[e].measure_info;s&&Object.keys(s).forEach(e=>c[e]=s[e])}}),Object.keys(r.metadata).forEach(e=>{let s=e.split("/")[0],d=e.includes("/dist"),h=r.metadata[e],x=h.measure_info&&h.measure_info._sources||{},j=[];h.resources.forEach(u=>{u.name="./".concat("settings"in r?r.settings.data_dir:"data","/").concat(e,"/").concat(u.filename);let g={resource:u,repo_name:a,settings:r.settings,source_time:r.source_times[s],logs:r.logs[s],process:r.processes[s],issues:s in r.issues?r.issues[s][u.name]:{},variables:[]};u.schema.fields.forEach(e=>{let n=h.measure_info[e.name];if(n){let a="source_id"in n?n.source_id:!("name"in n)&&e.name in c?e.name:"",A=a in c?{...c[a],...n}:{...n};A.sources&&(d&&a in c?delete A.sources:("string"==typeof A.sources&&(A.sources=[A.sources]),A.sources=A.sources.map(e=>{let s="string"==typeof e?e in x?x[e]:{id:e,name:e}:e.id&&e.id in x?{...x[e.id],...e}:{...e};return j.push(s),s}))),h.measure_info[e.name]=A;let p={...e,info:A,info_string:JSON.stringify(A).toLowerCase(),source_name:s,source_time:r.source_times[s],resource:u},m=(0,i.jsx)(I,{meta:p,file:g},e.name);if(g.variables.push(m),e.name in et||e.name in l||t.push({meta:p,display:m}),A.category){A.category in o||(o[A.category]={});let s=o[A.category];A.subcategory&&(A.subcategory in s||(s[A.subcategory]={}),s[A.subcategory][e.name]={info:A,display:m,file:g})}}l[e.name]=!0}),u.source=j,n.push({meta:g,display:(0,i.jsx)(Y,{meta:g},u.name)})})}),T({report:r,files:n,variables:t,categories:o}),O(!0)})},[a]);let W="dark"===e;return(0,i.jsx)(o.A,{sx:{position:"absolute",top:0,left:0,bottom:0,right:0,overflow:"hidden"},children:(0,i.jsxs)(d.A,{sx:{height:"100%"},children:[(0,i.jsx)(h.A,{sx:{p:0},title:(0,i.jsxs)(x.A,{direction:"row",sx:{justifyContent:"space-between",alignItems:"center"},children:[(0,i.jsxs)(j.A,{href:"/dcf/",rel:"noreferrer",children:[(0,i.jsx)(y.A,{}),"Package Site"]}),M?(0,i.jsxs)(u.A,{value:F,onChange:(e,s)=>S(s),children:[(0,i.jsx)(g.A,{label:"Variables",value:"variables",id:"variables-tab","aria-controls":"variables-panel"}),(0,i.jsx)(g.A,{label:"Topics",value:"topics",id:"topics-tab","aria-controls":"topics-panel"}),(0,i.jsx)(g.A,{label:"Files",value:"files",id:"files-tab","aria-controls":"files-panel"}),(0,i.jsx)(g.A,{label:"Diagram",value:"diagram",id:"diagram-tab","aria-controls":"diagram-panel"})]}):(0,i.jsx)(A.A,{fontSize:"1.35em",children:"Data Collection Project"}),(0,i.jsxs)(x.A,{direction:"row",spacing:2,children:[M&&(0,i.jsx)(p.A,{href:"https://github.com/".concat(a.trim()),target:"_blank",rel:"noreferrer",sx:{fontSize:".7em",textDecoration:"none",alignSelf:"center"},children:a}),(0,i.jsx)(j.A,{variant:"outlined",color:"warning",onClick:()=>{O(!1),w(!1),t("")},disabled:!a,children:"Reset"}),(0,i.jsx)(m.A,{color:"inherit",onClick:()=>s(W?"light":"dark"),"aria-label":"toggle dark mode",children:W?(0,i.jsx)(v.A,{}):(0,i.jsx)(_.A,{})})]})]})}),M?(0,i.jsxs)(b.A,{sx:{position:"absolute",top:48,bottom:0,width:"100%",overflow:"hidden"},children:[(0,i.jsx)(o.A,{role:"tabpanel",id:"topics-panel","aria-labelledby":"topics-tab",hidden:"topics"!==F,sx:{height:"100%",overflow:"hidden",pb:7},children:(0,i.jsx)(o.A,{sx:{height:"100%",overflowY:"auto"},children:D.categories?(0,i.jsx)(ea,{sources:D.categories}):(0,i.jsx)(i.Fragment,{})})}),(0,i.jsxs)(o.A,{role:"tabpanel",id:"variables-panel","aria-labelledby":"variables-tab",hidden:"variables"!==F,sx:{height:"100%",overflow:"hidden",pb:7},children:[(0,i.jsx)(f.A,{size:"small",label:"Filter",value:E,onChange:e=>z(e.target.value.toLowerCase()),sx:{mt:1,mb:1},fullWidth:!0}),(0,i.jsx)(o.A,{sx:{height:"100%",overflowY:"auto"},children:D.variables.filter(e=>!E||e.meta.info_string.includes(E)).map(e=>e.display)})]}),(0,i.jsx)(o.A,{role:"tabpanel",id:"files-panel","aria-labelledby":"files-tab",hidden:"files"!==F,sx:{height:"100%",overflow:"hidden"},children:(0,i.jsx)(o.A,{sx:{height:"100%",overflowY:"auto"},children:D.files.map(e=>e.display)})}),(0,i.jsx)(o.A,{role:"tabpanel",id:"diagram-panel","aria-labelledby":"diagram-tab",hidden:"diagram"!==F,sx:{height:"100%",overflow:"hidden",pb:7},children:(0,i.jsx)(o.A,{sx:{height:"100%",overflowY:"auto"},children:D.report?(0,i.jsx)(ee,{report:D.report}):(0,i.jsx)(i.Fragment,{})})}),D.report?(0,i.jsxs)(A.A,{variant:"caption",sx:{position:"fixed",bottom:0,left:5,opacity:.8},children:["Processed ",D.report.date]}):(0,i.jsx)(i.Fragment,{})]}):(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(b.A,{sx:{display:"flex",justifyContent:"center",mt:5},children:(0,i.jsxs)(x.A,{spacing:3,sx:{maxWidth:500},children:[(0,i.jsxs)(A.A,{children:["Enter the name of a GitHub repository containing a Data Collection Project (e.g.,"," ",(0,i.jsx)("code",{children:"dissc-yale/pophive_demo"}),")"]}),(0,i.jsx)(f.A,{label:"Repository",variant:"standard",value:r,onChange:e=>{w(!1),n(e.target.value)},onKeyDown:e=>{"Enter"==e.key&&C(r)},error:k,helperText:k?"failed to retrieve report":""}),(0,i.jsx)(j.A,{variant:"contained",onClick:()=>C(r),disabled:!r||!el.test(r),children:"View Report"})]})})})]})})}let eo=(0,n.A)({colorSchemes:{dark:{palette:{mode:"dark",primary:{main:"#a5cdff"}}},light:{palette:{mode:"light",primary:{main:"#00356b"}}}}});function ed(){return(0,i.jsx)(l.StrictMode,{children:(0,i.jsxs)(a.A,{theme:eo,defaultMode:"dark",noSsr:!0,children:[(0,i.jsx)("div",{suppressHydrationWarning:!0,children:(0,i.jsx)(t.Ay,{enableColorScheme:!0})}),(0,i.jsx)(ec,{})]})})}}},e=>{e.O(0,[590,4039,8441,1255,7358],()=>e(e.s=17924)),_N_E=e.O()}]);