(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{17:(e,s,i)=>{"use strict";i.r(s),i.d(s,{default:()=>q});var r=i(5155),n=i(2691),l=i(6129),a=i(9869),t=i(2115),c=i(7960),h=i(1574),d=i(539),o=i(1294),x=i(1292),j=i(7855),A=i(9300),g=i(5416),m=i(317),u=i(7440),p=i(4288),b=i(4627),f=i(2356),v=i(8597),y=i(6024),w=i(726),_=i(1269),C=i(9250),k=i(5265),S=i(2021),F=i(9496),M=i(6120),E=i(223),D=i(4463),W=i(1512),z=i(6388),T=i(9999),P=i(5490),V=i(9518),B=i(9970),R=i(3195),H=i(1955),O=i(2619),I=i.n(O);function L(e){let{filename:s,meta:i}=e,n=s.replace("./","");return(0,r.jsx)(I(),{href:"https://github.com/".concat(i.repo_name,"/blob/").concat(i.settings&&i.settings.branch?i.settings.branch:"main","/").concat(n),rel:"noreferrer",target:"_blank",children:n})}function N(e){let{meta:s}=e,[i,n]=(0,t.useState)(!1),l=()=>n(!i),{resource:a,issues:c}=s,{versions:d}=a,o=c&&c.data?Array.isArray(c.data)?c.data:[c.data]:[],j=c&&c.measures?Array.isArray(c.measures)?c.measures:[c.measures]:[],A="number"!=typeof s.source_time,g=A||o.length||j.length,u=a.name.replace("./","");return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(_.A,{onClick:l,children:[(0,r.jsx)(P.A,{sx:{minWidth:40},children:A?(0,r.jsx)(T.A,{color:"error"}):g?(0,r.jsx)(R.A,{color:"warning"}):(0,r.jsx)(H.A,{color:"success"})}),(0,r.jsx)(C.A,{primary:u})]}),(0,r.jsxs)(k.A,{open:i,onClose:l,children:[(0,r.jsx)(S.A,{sx:{wordWrap:"break-word",pr:6},children:u}),(0,r.jsx)(p.A,{"aria-label":"close info",onClick:l,sx:{position:"absolute",right:8,top:12},children:(0,r.jsx)(T.A,{})}),(0,r.jsx)(F.A,{sx:{pt:0,wordBreak:"break-word","& th":{p:0},"& td":{verticalAlign:"top",p:.1}},children:(0,r.jsxs)(x.A,{spacing:2,children:[(0,r.jsxs)(h.A,{children:[(0,r.jsx)(m.A,{variant:"h6",children:"Metadata"}),(0,r.jsxs)(M.A,{size:"small","aria-label":"measure info entries",children:[(0,r.jsx)(E.A,{children:(0,r.jsxs)(D.A,{sx:{"& .MuiTableCell-head":{fontWeight:"bold"}},children:[(0,r.jsx)(W.A,{children:"Feature"}),(0,r.jsx)(W.A,{align:"right",children:"Value"})]})}),(0,r.jsxs)(z.A,{children:[(0,r.jsxs)(D.A,{children:[(0,r.jsxs)(W.A,{role:"heading",children:["Source Script",s.process.scripts.length>1?"s":""]}),(0,r.jsx)(W.A,{align:"right",children:s.process.scripts.map(e=>(0,r.jsx)("p",{children:(0,r.jsx)(L,{filename:"".concat(s.settings.data_dir||"data","/").concat(s.process.name,"/").concat(e.path),meta:s})},e.path))})]}),(0,r.jsxs)(D.A,{children:[(0,r.jsx)(W.A,{role:"heading",children:"File"}),(0,r.jsx)(W.A,{align:"right",children:(0,r.jsx)(L,{filename:a.name,meta:s})})]}),(0,r.jsxs)(D.A,{children:[(0,r.jsx)(W.A,{role:"heading",children:"Created"}),(0,r.jsx)(W.A,{align:"right",children:a.created})]}),(0,r.jsxs)(D.A,{children:[(0,r.jsx)(W.A,{role:"heading",children:"Seconds to Build"}),(0,r.jsx)(W.A,{align:"right",children:s.source_time})]}),(0,r.jsxs)(D.A,{children:[(0,r.jsx)(W.A,{role:"heading",children:"Bytes"}),(0,r.jsx)(W.A,{align:"right",children:a.bytes})]}),(0,r.jsxs)(D.A,{children:[(0,r.jsx)(W.A,{role:"heading",children:"Encoding"}),(0,r.jsx)(W.A,{align:"right",children:a.encoding})]}),(0,r.jsxs)(D.A,{children:[(0,r.jsx)(W.A,{role:"heading",children:"MD5"}),(0,r.jsx)(W.A,{align:"right",children:a.md5})]}),(0,r.jsxs)(D.A,{children:[(0,r.jsx)(W.A,{role:"heading",children:"Rows"}),(0,r.jsx)(W.A,{align:"right",children:a.row_count})]})]})]})]}),s.variables.length?(0,r.jsxs)(h.A,{children:[(0,r.jsx)(m.A,{variant:"h6",children:"Variables"}),(0,r.jsx)(h.A,{sx:{maxHeight:300,overflowY:"auto"},children:s.variables})]}):(0,r.jsx)(r.Fragment,{}),o.length?(0,r.jsxs)(h.A,{children:[(0,r.jsx)(m.A,{variant:"h6",children:"Data Issues"}),(0,r.jsx)(V.A,{disablePadding:!0,children:o.map((e,s)=>(0,r.jsx)(B.Ay,{children:e},s))})]}):(0,r.jsx)(r.Fragment,{}),j.length?(0,r.jsxs)(h.A,{children:[(0,r.jsx)(m.A,{variant:"h6",children:"Measure Issues"}),(0,r.jsx)(V.A,{disablePadding:!0,children:j.map((e,s)=>(0,r.jsx)(B.Ay,{children:e},s))})]}):(0,r.jsx)(r.Fragment,{}),A&&(0,r.jsxs)(h.A,{children:[(0,r.jsx)(m.A,{variant:"h6",color:"error",children:"Source Failure"}),(0,r.jsx)(m.A,{children:s.logs})]}),d&&d.hash&&(0,r.jsxs)(h.A,{children:[(0,r.jsx)(m.A,{variant:"h6",children:"Previous Versions"}),(0,r.jsx)(h.A,{sx:{maxHeight:300,overflowY:"auto"},children:(0,r.jsxs)(M.A,{size:"small","aria-label":"measure info entries",children:[(0,r.jsx)(E.A,{children:(0,r.jsxs)(D.A,{sx:{"& .MuiTableCell-head":{fontWeight:"bold"}},children:[(0,r.jsx)(W.A,{children:"Date"}),(0,r.jsx)(W.A,{children:"Message"}),(0,r.jsx)(W.A,{children:"Commit"})]})}),(0,r.jsx)(z.A,{children:d.hash.map((e,i)=>(0,r.jsxs)(D.A,{children:[(0,r.jsx)(W.A,{width:220,children:d.date[i]}),(0,r.jsx)(W.A,{children:d.message[i]}),(0,r.jsx)(W.A,{width:60,title:e,children:(0,r.jsx)(I(),{href:"https://raw.githubusercontent.com/".concat(s.repo_name,"/").concat(e,"/").concat(u),rel:"noreferrer",target:"_blank",children:e.substring(0,6)})})]},i))})]})})]})]})})]})]})}function Y(e){let{meta:s,file:i}=e,[n,l]=(0,t.useState)(!1),a=()=>l(!n),{info:c,resource:d}=s;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(_.A,{onClick:a,children:(0,r.jsx)(C.A,{primary:c.short_name||c.id,secondary:c.short_description})}),(0,r.jsxs)(k.A,{open:n,onClose:a,children:[(0,r.jsx)(S.A,{children:c.id}),(0,r.jsx)(p.A,{"aria-label":"close info",onClick:a,sx:{position:"absolute",right:8,top:12},children:(0,r.jsx)(T.A,{})}),(0,r.jsx)(F.A,{sx:{pt:0},children:(0,r.jsxs)(x.A,{spacing:2,children:[(0,r.jsx)(m.A,{variant:"h5",children:c.long_name}),(0,r.jsx)(m.A,{variant:"body2",children:c.long_description?(0,r.jsx)("span",{dangerouslySetInnerHTML:{__html:c.long_description}}):(0,r.jsx)(r.Fragment,{})}),(0,r.jsxs)(h.A,{children:[(0,r.jsx)(m.A,{variant:"h6",children:"Metadata"}),(0,r.jsxs)(M.A,{size:"small","aria-label":"measure info entries",children:[(0,r.jsx)(E.A,{children:(0,r.jsxs)(D.A,{sx:{"& .MuiTableCell-head":{fontWeight:"bold"}},children:[(0,r.jsx)(W.A,{children:"Entry"}),(0,r.jsx)(W.A,{align:"right",children:"Value"})]})}),(0,r.jsxs)(z.A,{children:[(0,r.jsxs)(D.A,{children:[(0,r.jsx)(W.A,{children:"Category"}),(0,r.jsx)(W.A,{align:"right",children:c.category})]}),(0,r.jsxs)(D.A,{children:[(0,r.jsx)(W.A,{children:"Type"}),(0,r.jsx)(W.A,{align:"right",children:c.measure_type})]}),(0,r.jsxs)(D.A,{children:[(0,r.jsx)(W.A,{children:"Unit"}),(0,r.jsx)(W.A,{align:"right",children:c.unit})]})]})]})]}),(0,r.jsxs)(h.A,{children:[(0,r.jsx)(m.A,{variant:"h6",children:"File"}),(0,r.jsxs)(M.A,{size:"small","aria-label":"measure info entries",children:[(0,r.jsx)(E.A,{children:(0,r.jsxs)(D.A,{sx:{"& .MuiTableCell-head":{fontWeight:"bold"}},children:[(0,r.jsx)(W.A,{children:"Feature"}),(0,r.jsx)(W.A,{align:"right",children:"Value"})]})}),(0,r.jsxs)(z.A,{children:[(0,r.jsxs)(D.A,{children:[(0,r.jsx)(W.A,{children:"File"}),(0,r.jsx)(W.A,{align:"right",children:(0,r.jsx)(N,{meta:i})})]}),(0,r.jsxs)(D.A,{children:[(0,r.jsx)(W.A,{children:"Created"}),(0,r.jsx)(W.A,{align:"right",children:d.created})]}),(0,r.jsxs)(D.A,{children:[(0,r.jsx)(W.A,{children:"Seconds to Build"}),(0,r.jsx)(W.A,{align:"right",children:s.source_time})]}),(0,r.jsxs)(D.A,{children:[(0,r.jsx)(W.A,{children:"Bytes"}),(0,r.jsx)(W.A,{align:"right",children:d.bytes})]}),(0,r.jsxs)(D.A,{children:[(0,r.jsx)(W.A,{children:"Encoding"}),(0,r.jsx)(W.A,{align:"right",children:d.encoding})]}),(0,r.jsxs)(D.A,{children:[(0,r.jsx)(W.A,{children:"MD5"}),(0,r.jsx)(W.A,{align:"right",children:d.md5})]}),(0,r.jsxs)(D.A,{children:[(0,r.jsx)(W.A,{children:"Rows"}),(0,r.jsx)(W.A,{align:"right",children:d.row_count})]})]})]})]}),(0,r.jsxs)(h.A,{children:[(0,r.jsx)(m.A,{variant:"h6",children:"Summary"}),(0,r.jsxs)(M.A,{size:"small","aria-label":"measure summary",children:[(0,r.jsx)(E.A,{children:(0,r.jsxs)(D.A,{sx:{"& .MuiTableCell-head":{fontWeight:"bold"}},children:[(0,r.jsx)(W.A,{children:"Component"}),(0,r.jsx)(W.A,{align:"right",children:"Value"})]})}),(0,r.jsxs)(z.A,{children:[(0,r.jsxs)(D.A,{children:[(0,r.jsx)(W.A,{children:"Duplicates"}),(0,r.jsx)(W.A,{align:"right",children:s.duplicates})]}),(0,r.jsxs)(D.A,{children:[(0,r.jsx)(W.A,{children:"Missing"}),(0,r.jsx)(W.A,{align:"right",children:s.missing})]}),(0,r.jsxs)(D.A,{children:[(0,r.jsx)(W.A,{children:"Type"}),(0,r.jsx)(W.A,{align:"right",children:s.type})]}),"string"===s.type?(0,r.jsxs)(D.A,{children:[(0,r.jsx)(W.A,{children:"Levels"}),(0,r.jsx)(W.A,{align:"right",children:Object.keys(s.table).length})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(D.A,{children:[(0,r.jsx)(W.A,{children:"Min"}),(0,r.jsx)(W.A,{align:"right",children:s.min.toFixed(2)})]}),(0,r.jsxs)(D.A,{children:[(0,r.jsx)(W.A,{children:"Mean"}),(0,r.jsx)(W.A,{align:"right",children:s.mean.toFixed(2)})]}),(0,r.jsxs)(D.A,{children:[(0,r.jsx)(W.A,{children:"Standard Deviation"}),(0,r.jsx)(W.A,{align:"right",children:s.sd.toFixed(2)})]}),(0,r.jsxs)(D.A,{children:[(0,r.jsx)(W.A,{children:"Max"}),(0,r.jsx)(W.A,{align:"right",children:s.max.toFixed(2)})]})]})]})]})]}),c.sources&&c.sources.length?(0,r.jsxs)(h.A,{children:[(0,r.jsx)(m.A,{variant:"h6",children:"Sources"}),c.sources.map(e=>(0,r.jsx)(U,{source:e},e.name))]}):(0,r.jsx)(r.Fragment,{})]})})]})]})}function U(e){let{source:s}=e;return(0,r.jsxs)(d.A,{children:[(0,r.jsx)(o.A,{title:s.name,subheader:(0,r.jsx)(u.A,{href:s.url,rel:"noreferrer",target:"_blank",children:s.url.replace("https://","")})}),s.location&&(0,r.jsxs)(b.A,{sx:{pt:0},children:[(0,r.jsx)(m.A,{variant:"body2",children:s.location}),s.location_url&&(0,r.jsx)(u.A,{variant:"body2",href:s.location_url,rel:"noreferrer",target:"_blank",children:s.location_url.replace("https://","")})]})]})}let G={time:!0,geography:!0},J=/^[^\/]+\/[^\/]+$/;function K(){let{mode:e,setMode:s}=(0,c.Ut)(),[i,n]=(0,t.useState)(""),[l,a]=(0,t.useState)(""),[_,C]=(0,t.useState)(!1),k=e=>{C(!1),a(e)};(0,t.useEffect)(()=>{let e=window.location.search.replace("?","").split("&").filter(e=>e.startsWith("repo="));e.length&&k(e[0].replace("repo=",""))});let[S,F]=(0,t.useState)("variables"),[M,E]=(0,t.useState)(""),[D,W]=(0,t.useState)(!1),[z,T]=(0,t.useState)({date:"2025",files:[],variables:[]});(0,t.useEffect)(()=>{l&&fetch("https://api.github.com/repos/".concat(l,"/contents/report.json.gz")).then(async e=>{if(200!==e.status){C(!0),a("");return}let s=await (l?new Blob([Uint8Array.from(atob((await e.json()).content).split("").map(e=>e.charCodeAt(0)))]):e.blob()),i=await new Response(await s.stream().pipeThrough(new DecompressionStream("gzip"))).json(),n=[],t=[],c={};Object.keys(i.metadata).forEach(e=>{let s=e.split("/")[0],a=i.metadata[e];a.resources.forEach(h=>{h.name="./".concat("settings"in i?i.settings.data_dir:"data","/").concat(e,"/").concat(h.filename);let d={resource:h,repo_name:l,settings:i.settings,source_time:i.source_times[s],logs:i.logs[s],process:i.processes[s],issues:s in i.issues?i.issues[s][h.name]:{},variables:[]};h.schema.fields.forEach(e=>{let n=a.measure_info[e.name];if(n){let l={...e,info:n,info_string:n?JSON.stringify(n).toLowerCase():"",source_name:s,source_time:i.source_times[s],resource:h},a=(0,r.jsx)(Y,{meta:l,file:d},e.name);d.variables.push(a),e.name in G||e.name in c||t.push({meta:l,display:a})}c[e.name]=!0}),n.push({meta:d,display:(0,r.jsx)(N,{meta:d},h.name)})})}),T({date:i.date,files:n,variables:t}),W(!0)})},[l]);let P="dark"===e;return(0,r.jsx)(h.A,{sx:{position:"absolute",top:0,left:0,bottom:0,right:0,overflow:"hidden"},children:(0,r.jsxs)(d.A,{sx:{height:"100%"},children:[(0,r.jsx)(o.A,{sx:{p:0},title:(0,r.jsxs)(x.A,{direction:"row",sx:{justifyContent:"space-between",alignItems:"center"},children:[(0,r.jsxs)(j.A,{href:"/dcf/",rel:"noreferrer",children:[(0,r.jsx)(v.A,{}),"Package Site"]}),D?(0,r.jsxs)(A.A,{value:S,onChange:(e,s)=>F(s),children:[(0,r.jsx)(g.A,{label:"Variables",value:"variables",id:"variables-tab","aria-controls":"variables-panel"}),(0,r.jsx)(g.A,{label:"Files",value:"files",id:"files-tab","aria-controls":"files-panel"})]}):(0,r.jsx)(m.A,{fontSize:"1.35em",children:"Data Collection Project"}),(0,r.jsxs)(x.A,{direction:"row",spacing:2,children:[D&&(0,r.jsx)(u.A,{href:"https://github.com/".concat(l.trim()),target:"_blank",rel:"noreferrer",sx:{fontSize:".7em",textDecoration:"none",alignSelf:"center"},children:l}),(0,r.jsx)(j.A,{variant:"outlined",color:"warning",onClick:()=>{W(!1),C(!1),a("")},disabled:!l,children:"Reset"}),(0,r.jsx)(p.A,{color:"inherit",onClick:()=>s(P?"light":"dark"),"aria-label":"toggle dark mode",children:P?(0,r.jsx)(y.A,{}):(0,r.jsx)(w.A,{})})]})]})}),D?(0,r.jsxs)(b.A,{sx:{position:"absolute",top:48,bottom:0,width:"100%",overflow:"hidden"},children:[(0,r.jsxs)(h.A,{role:"tabpanel",id:"variables-panel","aria-labelledby":"variables-tab",hidden:"variables"!==S,sx:{height:"100%",overflow:"hidden",pb:7},children:[(0,r.jsx)(f.A,{size:"small",label:"Filter",value:M,onChange:e=>E(e.target.value.toLowerCase()),sx:{mt:1,mb:1},fullWidth:!0}),(0,r.jsx)(h.A,{sx:{height:"100%",overflowY:"auto"},children:z.variables.filter(e=>!M||e.meta.info_string.includes(M)).map(e=>e.display)})]}),(0,r.jsx)(h.A,{role:"tabpanel",id:"files-panel","aria-labelledby":"files-tab",hidden:"files"!==S,sx:{height:"100%",overflow:"hidden"},children:(0,r.jsx)(h.A,{sx:{height:"100%",overflowY:"auto"},children:z.files.map(e=>e.display)})}),(0,r.jsxs)(m.A,{variant:"caption",sx:{position:"fixed",bottom:0,left:5,opacity:.8},children:["Processed ",z.date]})]}):(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(b.A,{sx:{display:"flex",justifyContent:"center",mt:5},children:(0,r.jsxs)(x.A,{spacing:3,sx:{maxWidth:500},children:[(0,r.jsxs)(m.A,{children:["Enter the name of a GitHub repository containing a Data Collection Project (e.g.,"," ",(0,r.jsx)("code",{children:"dissc-yale/pophive_demo"}),")"]}),(0,r.jsx)(f.A,{label:"Repository",variant:"standard",value:i,onChange:e=>{C(!1),n(e.target.value)},onKeyDown:e=>{"Enter"==e.key&&k(i)},error:_,helperText:_?"failed to retrieve report":""}),(0,r.jsx)(j.A,{variant:"contained",onClick:()=>k(i),disabled:!i||!J.test(i),children:"View Report"})]})})})]})})}let $=(0,n.A)({colorSchemes:{dark:{palette:{mode:"dark",primary:{main:"#a5cdff"}}},light:{palette:{mode:"light",primary:{main:"#00356b"}}}}});function q(){return(0,r.jsx)(t.StrictMode,{children:(0,r.jsxs)(l.A,{theme:$,defaultMode:"dark",noSsr:!0,children:[(0,r.jsx)("div",{suppressHydrationWarning:!0,children:(0,r.jsx)(a.Ay,{enableColorScheme:!0})}),(0,r.jsx)(K,{})]})})}},7924:(e,s,i)=>{Promise.resolve().then(i.bind(i,17))}},e=>{e.O(0,[386,441,255,358],()=>e(e.s=7924)),_N_E=e.O()}]);