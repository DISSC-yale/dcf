# Data Collection Framework

An R package to establish and work within a data collection framework.

## Installation

``` r
# install.packages("remotes")
remotes::install_github("dissc-yale/dcf")
```

## Get Started

### Projects

#### Full Projects

A data collection project ultimately consists of `source` and `bundle`
projects:

``` md
- collection_project
  - data
    - source_a
    - bundle_a
```

Start by initializing the overall project:

``` r
dcf_init("collection_project")
```

Then add a `source` project, which will ingest data from a single
source, and produce a standardized data file:

``` r
dcf_add_source("source_a", "collection_project")
```

And add a `bundle` project, which will use the standardized `source`
files to produce a data product:

``` r
dcf_add_bundle("bundle_a", "collection_project")
```

#### Standalone projects

`source` and `bundle` projects can also exist on their own, outside of a
full project.

This might be useful if a `source` project is particularly big, takes a
while to run, or has some special processes you want to build up outside
of a full project.

Standalone `bundle` projects might be useful as a way to make more
independent and/or varied outputs from a single full collection project.

The `dcf_add_source` and `dcf_add_bundle` functions can be used to
initialize these standalone projects, and the `dcf_build`,
`dcf_process`, and `dcf_check` functions work the same on them.

### Processing

Once the `source` and `bundle` scripts have been written, the project
can be built:

``` r
dcf_build("collection_project")
```

This runs `dcf_process` and `dcf_check` on each sub-project, then writes
a report to `collection_project/report.json.gz`, which includes
processing details (like logs and timing) and metadata from the
standardized data files.

# Package index

## Framework

Functions to establish and work within the framework.

- [`dcf_init()`](https://DISSC-yale.github.io/dcf/reference/dcf_init.md)
  : Initialize a Data Collection Project
- [`dcf_build()`](https://DISSC-yale.github.io/dcf/reference/dcf_build.md)
  : Run a Project's Build Process
- [`dcf_process()`](https://DISSC-yale.github.io/dcf/reference/dcf_process.md)
  : Run Data Project Processes
- [`dcf_add_source()`](https://DISSC-yale.github.io/dcf/reference/dcf_add_source.md)
  : Adds a Source Project
- [`dcf_check()`](https://DISSC-yale.github.io/dcf/reference/dcf_check.md)
  : Check Data Projects
- [`dcf_add_bundle()`](https://DISSC-yale.github.io/dcf/reference/dcf_add_bundle.md)
  : Adds a Bundle Project
- [`dcf_process_record()`](https://DISSC-yale.github.io/dcf/reference/dcf_process_record.md)
  : Interact with a Process File
- [`dcf_datapackage_init()`](https://DISSC-yale.github.io/dcf/reference/dcf_datapackage_init.md)
  : Create a datapackage.json template
- [`dcf_datapackage_add()`](https://DISSC-yale.github.io/dcf/reference/dcf_datapackage_add.md)
  : Adds documentation of a dataset to a datapackage
- [`dcf_update_lock()`](https://DISSC-yale.github.io/dcf/reference/dcf_update_lock.md)
  : Update renv.lock
- [`dcf_status_diagram()`](https://DISSC-yale.github.io/dcf/reference/dcf_status_diagram.md)
  : Make a Status Diagram

## Collection

Function to use as part of data collection or preparation.

- [`dcf_measure_info()`](https://DISSC-yale.github.io/dcf/reference/dcf_measure_info.md)
  : Make a measurement metadata file
- [`dcf_download_cdc()`](https://DISSC-yale.github.io/dcf/reference/dcf_download_cdc.md)
  : Download Data from the CDC
- [`dcf_load_census()`](https://DISSC-yale.github.io/dcf/reference/dcf_load_census.md)
  : Download Census Population Data
- [`dcf_download_wisqars()`](https://DISSC-yale.github.io/dcf/reference/dcf_download_wisqars.md)
  : Download CDC WISQARS Reports
- [`dcf_download_cmsmmd()`](https://DISSC-yale.github.io/dcf/reference/dcf_download_cmsmmd.md)
  [`dcf_standardize_cmsmmd()`](https://DISSC-yale.github.io/dcf/reference/dcf_download_cmsmmd.md)
  : Download Medicare Disparities Data
- [`dcf_to_health_region()`](https://DISSC-yale.github.io/dcf/reference/dcf_to_health_region.md)
  : Map States to Health Regions
- [`dcf_read_epic()`](https://DISSC-yale.github.io/dcf/reference/dcf_read_epic.md)
  : Read Epic Cosmos Data
- [`dcf_process_epic_staging()`](https://DISSC-yale.github.io/dcf/reference/dcf_process_epic_staging.md)
  : Process Epic Stating Files
- [`dcf_standardize_epic()`](https://DISSC-yale.github.io/dcf/reference/dcf_standardize_epic.md)
  : Standardize Epic Data

## Data Use

Functions to help use data within a framework.

- [`dcf_get_file()`](https://DISSC-yale.github.io/dcf/reference/dcf_get_file.md)
  : Retrieve A Data File

# Articles

### All vignettes

- [Standards](https://DISSC-yale.github.io/dcf/articles/standards.md):
